openapi: 3.0.3
info:
    title: SmartTable Admin API
    version: 1.0.0
    description: API для управления плейсом.

paths:
    /admin/v1/place/create:
        post:
            summary: Создание плейса
            description: Создание плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceCreateRequest'
            responses:
                '200':
                    description: Успешное создание плейса
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceCreateResponse'
                '400':
                    description: Ошибка создания плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка создания плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка создания плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка создания плейса, пользователь или ресторан не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/edit:
        post:
            summary: Редактирование плейса
            description: Редактирование плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceEditRequest'
            responses:
                '204':
                    description: Успешное редактирование плейса
                '400':
                    description: Ошибка редактирования плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка редактирования плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка редактирования плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка редактирования плейса, пользователь или плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/delete:
        post:
            summary: Удаление плейса
            description: Удаление плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceDeleteRequest'
            responses:
                '204':
                    description: Успешное удаление плейса
                '400':
                    description: Ошибка удаления плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка удаления плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка удаления плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка удаления плейса, пользователь или плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/list:
        post:
            summary: Получение списка плейсов пользователя
            description: Получение списка плейсов пользователя
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceListRequest'
            responses:
                '200':
                    description: Список плейсов ресторана
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceListResponse'
                '400':
                    description: Ошибка получения списка плейсов ресторана, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка получения списка плейсов ресторана, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка получения списка плейсов ресторана, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка получения списка плейсов ресторана, пользователь или ресторан не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/menu/dish/create:
        post:
            summary: Создание блюда в меню плейса
            description: Создание блюда в меню плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceMenuDishCreateRequest'
            responses:
                '200':
                    description: Идентификатор созданного блюда
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceMenuDishCreateResponse'
                '400':
                    description: Ошибка создания блюда в меню плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '401':
                    description: Ошибка создания блюда в меню плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка создания блюда в меню плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка создания блюда в меню плейса, плейс или пользователь не найдены
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/menu/dish/edit:
        post:
            summary: Редактирование блюда в меню плейса
            description: Редактирование блюда в меню плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceMenuDishDeleteRequest'
            responses:
                '204':
                    description: Успешное редактирование блюда
                '400':
                    description: Ошибка редактирования блюда в меню плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '401':
                    description: Ошибка редактирования блюда в меню плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка редактирования блюда в меню плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка редактирования блюда в меню плейса, пользователь или блюдо в меню не найдены
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/menu/dish/delete:
        post:
            summary: Удаление блюда в меню плейса
            description: Удаление блюда в меню плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceMenuDishCreateRequest'
            responses:
                '204':
                    description: Успешное удаление блюда
                '400':
                    description: Ошибка удаления блюда в меню плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '401':
                    description: Ошибка удаления блюда в меню плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка удаления блюда в меню плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка удаления блюда в меню плейса, пользователь или блюдо в меню не найдены
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/menu/dish/list:
        post:
            summary: Получение списка позиций в меню плейса
            description: Получение списка позиций в меню плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceMenuDishListRequest'
            responses:
                '200':
                    description: Список позиций в меню плейса блюд (JSON + binary images)
                    content:
                        multipart/mixed:
                            schema:
                                type: string
                                format: binary
                '401':
                    description: Ошибка получения списка, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка получения списка, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка получения списка, плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/employee/add:
        post:
            summary: Добавление сотрудника в плейс
            description: Добавление сотрудника в плейс
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceEmployeeAddRequest'
            responses:
                '204':
                    description: Сотрудник успешно добавлен в плейс
                '400':
                    description: Ошибка добавления сотрудника в плейс, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка добавления сотрудника в плейс, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка добавления сотрудника в плейс, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка добавления сотрудника в плейс, логин сотрудника или плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'  

    /admin/v1/place/employee/edit:
        post:
            summary: Редактирование роли сотрудника плейса
            description: Редактирование роли сотрудника плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceEmployeeEditRequest'
            responses:
                '204':
                    description: Роль сотрудника успешно отредактирована
                '400':
                    description: Ошибка редактирования роли сотрудника плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка редактирования роли сотрудника плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка редактирования роли сотрудника плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка редактирования роли сотрудника плейса, сотрудник или пользователь не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/employee/delete:
        post:
            summary: Удаление сотрудника из плейса
            description: Удаление сотрудника из плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceEmployeeDeleteRequest'
            responses:
                '204':
                    description: Успешное удаление сотрудника из плейса
                '400':
                    description: Ошибка удаления сотрудника из плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка удаления сотрудника из плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка удаления сотрудника из плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка удаления сотрудника из плейса, сотрудник или пользователь не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/employee/list:
        post:
            summary: Получение списка сотрудников в плейса
            description: Получение списка сотрудников в плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceEmployeeListRequest'
            responses:
                '200':
                    description: Список сотрудников плейса
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceEmployeeListResponse'
                '400':
                    description: Ошибка получения списка сотрудников плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка получения списка сотрудников плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка получения списка сотрудников плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка получения списка сотрудников плейса, плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/table_deeplinks/list:
        post:
            summary: Получение списка ссылок на столы для генерации QR
            description: Получение списка ссылок на столы для генерации QR
            parameters:
                -   $ref: '#/components/parameters/user_uuid'
                -   $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceTableDeepLinksListRequest'
            responses:
                '200':
                    description: Список ссылок
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceTableDeepLinksListResponse'
                '401':
                    description: Ошибка получения списка сотрудников плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка получения списка, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка получения списка, плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/order/list/opened:
        post:
            summary: Получение списка открытых заказов плейса
            description: Получение списка открытых заказов плейса
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceOrderListOpenedRequest'
            responses:
                '200':
                    description: Список активных заказов плейса
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceOrderListOpenedResponse'
                '400':
                    description: Ошибка получения списка активных заказов плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка получения списка активных заказов плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка получения списка активных заказов плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка получения списка активных заказов плейса, плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/order/list/closed:
        post:
            summary: Получение списка завершенных заказов плейса двухнедельной давности
            description: Получение списка завершенных заказов плейса двухнедельной давности
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceOrderListClosedRequest'
            responses:
                '200':
                    description: Список завершенных заказов плейса двухнедельной давности
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceOrderListClosedResponse'
                '400':
                    description: Ошибка получения списка сотрудников плейса, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка получения списка сотрудников плейса, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка получения списка сотрудников плейса, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка получения списка сотрудников плейса, плейс не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                
    /admin/v1/place/order/info:
        post:
            summary: Получение подробной информации о заказе
            description: Получение подробной информации о заказе
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceOrderInfoRequest'
            responses:
                '200':
                    description: Подробная информация о заказе
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/AdminV1PlaceOrderInfoResponse'
                '400':
                    description: Ошибка получения подробной информации о заказе, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка получения подробной информации о заказе, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка получения подробной информации о заказе, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка получения подробной информации о заказе, заказ или пользователь не найден
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

    /admin/v1/place/order/edit:
        post:
            summary: 
            description: Редкатирование заказа
            parameters:
                - $ref: '#/components/parameters/user_uuid'
                - $ref: '#/components/parameters/jwt_token'
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/AdminV1PlaceOrderEditRequest'
            responses:
                '204':
                    description: Заказ успешно отредактирован
                '400':
                    description: Ошибка редактирования заказа, некорректный формат данных
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'              
                '401':
                    description: Ошибка редактирования заказа, пользователь не авторизован
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '403':
                    description: Ошибка редактирования заказа, отказано в доступе, некорректные данные
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'
                '404':
                    description: Ошибка редактирования заказа, заказ, позиция в заказе или пользователь не найдены
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ErrorResponse'

components:
    parameters:
        user_uuid:
            in: header
            name: User-UUID
            description: Уникальный идентификатор пользователя
            required: true
            schema:
                type: string
                format: uuid

        jwt_token:
            in: header
            name: JWT-Token
            description: jwt токен пользователя
            required: true
            schema:
                type: string

    schemas:
        # /admin/v1/place/create_POST
        AdminV1PlaceCreateRequest:
            type: object
            additionalProperties: false
            properties:
                restaurant_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор ресторана
                address:
                    $ref: '#/components/schemas/Address'
                table_count:
                    $ref: '#/components/schemas/TableCount'
                opening_time:
                    $ref: '#/components/schemas/Time'
                closing_time:
                    $ref: '#/components/schemas/Time'
            required:
                - restaurant_uuid
                - address
                - table_count
                - opening_time
                - closing_time

        AdminV1PlaceCreateResponse:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
            required:
                - place_uuid

        # /admin/v1/place/edit_POST
        AdminV1PlaceEditRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                address:
                    $ref: '#/components/schemas/Address'
                table_count:
                    $ref: '#/components/schemas/TableCount'
                opening_time:
                    $ref: '#/components/schemas/Time'
                closing_time:
                    $ref: '#/components/schemas/Time'
            required:
                - address
                - table_count
                - opening_time
                - closing_time
                - place_uuid

        # /admin/v1/place/delete_POST
        AdminV1PlaceDeleteRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
            required:
                - place_uuid

        # /admin/v1/place/list_POST
        AdminV1PlaceListRequest:
            type: object
            additionalProperties: false
            properties:
                restaurant_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор ресторана
            required:
                - restaurant_uuid

        AdminV1PlaceListResponse:
            type: object
            additionalProperties: false
            properties:
                place_list:
                    type: array
                    items:
                        $ref: '#/components/schemas/PlaceInfo'
            required:
                - place_list

        # /admin/v1/place/menu/dish/create_POST
        AdminV1PlaceMenuDishCreateRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                dish_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор блюда ресторана
                price:
                    type: string
            required:
                - place_uuid
                - dish_uuid
                - price

        AdminV1PlaceMenuDishCreateResponse:
            type: object
            additionalProperties: false
            properties:
                menu_dish_uuid:
                    type: string
                    format: uuid
            required:
                - menu_dish_uuid

        # /admin/v1/place/menu/dish/edit_POST
        AdminV1PlaceMenuDishEditRequest:
            type: object
            additionalProperties: false
            properties:
                menu_dish_uuid:
                    type: string
                    format: uuid
                dish_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор блюда ресторана
                price:
                    type: string
            required:
                - menu_dish_uuid
                - dish_uuid
                - price

        # /admin/v1/place/menu/dish/delete_POST
        AdminV1PlaceMenuDishDeleteRequest:
            type: object
            additionalProperties: false
            properties:
                menu_dish_uuid:
                    type: string
                    format: uuid
            required:
                - menu_dish_uuid

        # /admin/v1/place/menu/dish/list_POST
        AdminV1PlaceMenuDishListRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
            required:
                - place_uuid

        # /admin/v1/place/employee/add_POST
        AdminV1PlaceEmployeeAddRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                employee_login:
                    $ref: '#/components/schemas/Login'
                employee_role:
                    $ref: '#/components/schemas/Role'
            required:
                - place_uuid
                - employee_login
                - employee_role

        # /admin/v1/place/employee/edit_POST
        AdminV1PlaceEmployeeEditRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                employee_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор пользователя
                employee_role:
                    $ref: '#/components/schemas/Role'
            required:
                - place_uuid
                - employee_uuid
                - employee_role
            
        # /admin/v1/place/employee/delete_POST
        AdminV1PlaceEmployeeDeleteRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                employee_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор пользователя'
            required:
                - place_uuid
                - employee_uuid

        # /admin/v1/place/employee/list_POST
        AdminV1PlaceEmployeeListRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
            required:
                - place_uuid

        AdminV1PlaceEmployeeListResponse:
            type: object
            additionalProperties: false
            properties:
                employee_list:
                    type: array
                    items:
                        $ref: '#/components/schemas/EmployeeInfo'
            required:
                - employee_list

        # /admin/v1/place/table_deeplinks/list_POST
        AdminV1PlaceTableDeepLinksListRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
            required:
                - place_uuid

        AdminV1PlaceTableDeepLinksListResponse:
            type: object
            additionalProperties: false
            properties:
                deeplinks:
                    type: array
                    items:
                        type: string
                        format: uri
            required:
                - deeplinks
    
        # /admin/v1/place/order/list/opened_POST
        AdminV1PlaceOrderListOpenedRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
            required:
                - place_uuid

        AdminV1PlaceOrderListOpenedResponse:
            type: object
            additionalProperties: false
            properties:
                order_list:
                    type: array
                    items:
                        $ref: '#/components/schemas/OrderMainInfo'
            required:
                - order_list

        # /admin/v1/place/order/list/closed_POST
        AdminV1PlaceOrderListClosedRequest:
            type: object
            additionalProperties: false
            properties:
                place_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
            required:
                - place_uuid

        AdminV1PlaceOrderListClosedResponse:
            type: object
            additionalProperties: false
            properties:
                order_list:
                    type: array
                    items:
                        $ref: '#/components/schemas/OrderMainInfo'
            required:
                - order_list

        # /admin/v1/place/order/info_POST
        AdminV1PlaceOrderInfoRequest:
            type: object
            additionalProperties: false
            properties:
                order_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор заказа
            required:
                - place_uuid

        AdminV1PlaceOrderInfoResponse:
            type: object
            additionalProperties: false
            properties:
                order_info:
                    description: Подробная информация о заказе
                    $ref: '#/components/schemas/OrderInfo'
            required:
                - order_info
            
        # /admin/v1/place/order/edit_POST
        AdminV1PlaceOrderEditRequest:
            type: object
            additionalProperties: false
            properties:
                order_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                order_status:
                    description: Статус заказа
                    $ref: '#/components/schemas/OrderStatus'
                item_uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                item_status:
                    description: Статус позиции заказа
                    $ref: '#/components/schemas/ItemStatus'
            required:
                - order_uuid
                - order_status

        # Errors
        ErrorResponse:
            type: object
            additionalProperties: false
            properties:
                code:
                    type: string
                    description: Код ошибки
                    enum: 
                        - incorrect_time_format
                        - incorrect_table_count
                        - incorrect_price
                        - not_authorized
                        - already_exist
                        - access_denied
                        - user_not_found
                        - restaurant_not_found
                        - place_not_found
                        - dish_not_found
                        - menu_dish_not_found
                        - order_not_found
                        - item_not_found
                message:
                    type: string
                    description: Описание ошибки
            required:
                - code
                - message

        # Objects
        PlaceInfo:
            type: object
            additionalProperties: false
            properties:
                uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор плейса
                address:
                    $ref: '#/components/schemas/Address'
                table_count:
                    $ref: '#/components/schemas/TableCount'
                opening_time:
                    $ref: '#/components/schemas/Time'
                closing_time:
                    $ref: '#/components/schemas/Time'
            required:
                - uuid
                - address
                - table_count
                - opening_time
                - closing_time

        EmployeeInfo:
            type: object
            additionalProperties: false
            properties:
                uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор пользователя
                login:
                    description: Логин пользователя, используемый для входа
                    $ref: '#/components/schemas/Login'
                tg_login:
                    description: Логин пользователя в Telegram
                    $ref: '#/components/schemas/Login'
                first_name:
                    description: Имя пользователя на латинице
                    $ref: '#/components/schemas/Name'
                last_name:
                    description: Фамилия пользователя на латинице
                    $ref: '#/components/schemas/Name'
                employee_role:
                    $ref: '#/components/schemas/Role'
            required:
                - uuid
                - login
                - tg_login
                - first_name
                - last_name
                - employee_role

        OrderInfo:
            type: object
            additionalProperties: false
            properties:
                order_main_info:
                    description: Основная информация о заказе
                    $ref: '#/components/schemas/OrderMainInfo'
                customer_list:
                    description: Cписко клиентов с информацией о их части заказа
                    type: array
                    items:
                        $ref: '#/components/schemas/CustomerInfo'
            required:
                - order_main_info
                - customer_list

        CustomerInfo:
            type: object
            additionalProperties: false
            properties:
                uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор пользователя
                tg_login:
                    $ref: '#/components/schemas/Login'
                tg_id:
                    type: string
                item_list:
                    description: Список позиций в заказе пользователя
                    type: array
                    items:
                        $ref: '#/components/schemas/ItemInfo'
            required:
                - uuid
                - tg_login
                - tg_id
                - item_list

        ItemInfo:
            type: object
            additionalProperties: false
            properties:
                item_uuid:
                    description: Идентификатор позиции в заказе
                    type: string
                    format: uuid
                comment:
                    type: string
                status:
                    $ref: '#/components/schemas/ItemStatus'
                resolution:
                    $ref: '#/components/schemas/ItemResolution'
                name:
                    type: string
                price:
                    type: string
                count: 
                    type: integer
            required:
                - item_uuid
                - comment
                - status
                - name
                - price
                - count

        ItemStatus:
            type: string
            enum:
                - new
                - accepted
                - cooking
                - cooked
                - served
                - payment_waiting
                - paid
                - cancelled_by_service
                - cancelled_by_client

        ItemResolution:
            type: string
            enum:
                - paid
                - cancelled_by_service
                - cancelled_by_client

        OrderMainInfo:
            type: object
            additionalProperties: false
            properties:
                uuid:
                    type: string
                    format: uuid
                    description: Уникальный идентификатор заказа
                status:
                    description: Статус заказа
                    $ref: '#/components/schemas/OrderStatus'
                resolution:
                    description: Резолюция заказа
                    $ref: '#/components/schemas/OrderResolution'
                table_number:
                    description: Номер стола
                    type: integer
                guests_count:
                    description: Количество клиентов в заказе
                    type: integer
                total_price:
                    description: Итоговая стоимость заказа
                    type: string
                created_at:
                    description: Дата создания заказа
                    type: string
                    format: date-time
            required:
                - uuid
                - status
                - table_number
                - guests_count
                - total_price
                - created_at

        OrderStatus:
            type: string
            enum:
                - new
                - serving
                - paid
                - cancelled_by_service
                - cancelled_by_client
                - payment_waiting

        OrderResolution:
            type: string
            enum:
                - paid
                - cancelled_by_service
                - cancelled_by_client
        
        Address:
            type: string
            minLength: 1
            maxLength: 50
            pattern: "^[A-Za-z0-9 \\-]+$"
        
        TableCount:
            type: integer
            minimum: 0
            exclusiveMinimum: true

        Time:
            type: string
            pattern: '^([01][0-9]|2[0-3]):[0-5][0-9]$'

        Login:
            type: string
            description: Логин пользователя, используемый для входа
            pattern: "^[a-zA-Z][a-zA-Z0-9_]{4,31}$"
            minLength: 4
            maxLength: 31

        Role:
            type: string
            description: Роль сотрудника
            enum: 
                - admin
                - waiter

        Name:
            type: string
            minLength: 1
            maxLength: 50
            pattern: "^[A-Za-z \\-]+$"

        MenuDishInfo:
            type: object
            additionalProperties: false
            properties:
                id:
                    type: string
                    format: uuid
                name:
                    type: string
                description:
                    type: string
                calories:
                    type: integer
                weight:
                    type: integer
                category:
                    type: string
                picture_key:
                    type: string
                price:
                    type: string
                exist:
                    type: boolean
            required:
                - id
                - name
                - description
                - calories
                - weight
                - category
                - picture_key
                - price
                - exist
