{"ast":null,"code":"import React,{useState}from\"react\";import\"./Catalog.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const categories=[{id:\"novinki\",name:\"Новинки\"},{id:\"pervoe\",name:\"Первое\"},{id:\"vtoroe\",name:\"Второе\"},{id:\"napitki\",name:\"Напитки\"},{id:\"deserty\",name:\"Десерты\"},{id:\"holodnoe\",name:\"холодное\"}];const dishes=[{id:1,category:\"novinki\",name:\"Бурурброт\",price:10,calories:250},{id:2,category:\"novinki\",name:\"Плов\",price:12,calories:300},{id:3,category:\"pervoe\",name:\"Супчок\",price:15,calories:400},{id:4,category:\"vtoroe\",name:\"Котлета с пюре\",price:20,calories:500},{id:5,category:\"napitki\",name:\"Кофе\",price:17,calories:200},{id:6,category:\"napitki\",name:\"Чай\",price:10,calories:200},{id:7,category:\"deserty\",name:\"Блины\",price:50,calories:300},{id:8,category:\"pervoe\",name:\"Борщок\",price:100,calories:200},{id:9,category:\"novinki\",name:\"Яблоко\",price:6,calories:100}];function Catalog(){const[cart,setCart]=useState({});const updateQuantity=(id,change)=>{setCart(prev=>{const newQuantity=(prev[id]||0)+change;if(newQuantity<=0){const updatedCart={...prev};delete updatedCart[id];return updatedCart;}return{...prev,[id]:newQuantity};});};const totalPrice=Object.keys(cart).reduce((sum,id)=>sum+(cart[id]||0)*dishes.find(dish=>dish.id===Number(id)).price,0);const handleScroll=id=>{const element=document.getElementById(id);if(element){const offset=150;const elementPosition=element.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:elementPosition-offset,behavior:\"smooth\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"catalog-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"small-button\",children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0441\\u0435\\u0441\\u0441\\u0438\\u044E\"}),/*#__PURE__*/_jsx(\"button\",{className:\"small-button\",children:\"\\u041A\\u043E\\u0434 \\u043A\\u043E\\u043C\\u043D\\u0430\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"button\",{className:\"small-button\",children:\"\\u041E\\u0444\\u0438\\u0446\\u0438\\u0430\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"button\",{className:\"small-button\",children:\"\\u0427\\u0435\\u043A\\u0430\\u0443\\u0442 \\u0433\\u043E\\u0443\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"category-tabs\",children:/*#__PURE__*/_jsx(\"div\",{className:\"category-scroll\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleScroll(cat.id),className:\"category-link\",children:cat.name},cat.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-grid\",children:categories.map(cat=>/*#__PURE__*/_jsxs(\"div\",{id:cat.id,className:\"category-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"category-title\",children:cat.name}),/*#__PURE__*/_jsx(\"div\",{className:\"category-section\",children:dishes.filter(dish=>dish.category===cat.id).map(dish=>/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dish-img\",children:\"\\u0424\\u043E\\u0442\\u043A\\u0430 \\u0436\\u043E\\u0441\\u043A\\u043E\\u0433\\u043E \\u0431\\u043B\\u044E\\u0434\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dish-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"dish-price\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[dish.price,\" \\u0440\\u0443\\u0431\\u043B\\u0435\\u0439\"]})}),/*#__PURE__*/_jsx(\"p\",{className:\"dish-name\",children:dish.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"dish-calories\",children:[dish.calories,\" \\u0433\\u0440\\u0430\\u043C\\u043C\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"quantity-controls\",children:cart[dish.id]?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(dish.id,-1),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"strong\",{children:cart[dish.id]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(dish.id,1),children:\"+\"})]}):/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:()=>updateQuantity(dish.id,1),children:\"+\"})})]},dish.id))})]},cat.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-price\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0418\\u0442\\u043E\\u0433\\u043E: \",/*#__PURE__*/_jsxs(\"strong\",{children:[totalPrice,\" \\u0440\\u0443\\u0431\\u043B\\u0435\\u0439\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"checkout-button\",children:\"\\u0414\\u0430\\u043B\\u0435\\u0435   \"})]})]});}export default Catalog;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","categories","id","name","dishes","category","price","calories","Catalog","cart","setCart","updateQuantity","change","prev","newQuantity","updatedCart","totalPrice","Object","keys","reduce","sum","find","dish","Number","handleScroll","element","document","getElementById","offset","elementPosition","getBoundingClientRect","top","window","scrollY","scrollTo","behavior","className","children","map","cat","onClick","filter"],"sources":["C:/Users/kurma/Documents/smart-table/smart-table/frontend/smart-table-customer/src/components/Catalog/Catalog.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./Catalog.css\";\r\n\r\nconst categories = [\r\n  { id: \"novinki\", name: \"Новинки\" },\r\n  { id: \"pervoe\", name: \"Первое\" },\r\n  { id: \"vtoroe\", name: \"Второе\" },\r\n  { id: \"napitki\", name: \"Напитки\" },\r\n  { id: \"deserty\", name: \"Десерты\" },\r\n  { id: \"holodnoe\", name: \"холодное\" },\r\n];\r\n\r\nconst dishes = [\r\n  { id: 1, category: \"novinki\", name: \"Бурурброт\", price: 10, calories: 250 },\r\n  { id: 2, category: \"novinki\", name: \"Плов\", price: 12, calories: 300 },\r\n  { id: 3, category: \"pervoe\", name: \"Супчок\", price: 15, calories: 400 },\r\n  { id: 4, category: \"vtoroe\", name: \"Котлета с пюре\", price: 20, calories: 500 },\r\n  { id: 5, category: \"napitki\", name: \"Кофе\", price: 17, calories: 200 },\r\n  { id: 6, category: \"napitki\", name: \"Чай\", price: 10, calories: 200 },\r\n  { id: 7, category: \"deserty\", name: \"Блины\", price: 50, calories: 300 },\r\n  { id: 8, category: \"pervoe\", name: \"Борщок\", price: 100, calories: 200 },\r\n  { id: 9, category: \"novinki\", name: \"Яблоко\", price: 6, calories: 100 },\r\n];\r\nfunction Catalog() {\r\n  const [cart, setCart] = useState({});\r\n\r\n  const updateQuantity = (id, change) => {\r\n    setCart((prev) => {\r\n      const newQuantity = (prev[id] || 0) + change;\r\n      if (newQuantity <= 0) {\r\n        const updatedCart = { ...prev };\r\n        delete updatedCart[id]; \r\n        return updatedCart;\r\n      }\r\n      return { ...prev, [id]: newQuantity };\r\n    });\r\n  };\r\n\r\n  const totalPrice = Object.keys(cart).reduce(\r\n    (sum, id) => sum + (cart[id] || 0) * dishes.find((dish) => dish.id === Number(id)).price,\r\n    0\r\n  );\r\n\r\n  const handleScroll = (id) => {\r\n    const element = document.getElementById(id);\r\n    if (element) {\r\n      const offset = 150; \r\n      const elementPosition = element.getBoundingClientRect().top + window.scrollY;\r\n      window.scrollTo({\r\n        top: elementPosition - offset,\r\n        behavior: \"smooth\", \r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"catalog-container\">\r\n      <div className=\"top-buttons\">\r\n        <button className=\"small-button\">Удалить сессию</button>\r\n        <button className=\"small-button\">Код комнаты</button>\r\n        <button className=\"small-button\">Официант</button>\r\n        <button className=\"small-button\">Чекаут гоу</button>\r\n      </div>\r\n\r\n      <div className=\"category-tabs\">\r\n        <div className=\"category-scroll\">\r\n          {categories.map((cat) => (\r\n            <button key={cat.id} onClick={() => handleScroll(cat.id)} className=\"category-link\">\r\n              {cat.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"menu-grid\">\r\n        {categories.map((cat) => (\r\n          <div key={cat.id} id={cat.id} className=\"category-section\">\r\n            <h2 className=\"category-title\">{cat.name}</h2>\r\n            <div className=\"category-section\">\r\n              {dishes\r\n                .filter((dish) => dish.category === cat.id)\r\n                .map((dish) => (\r\n                  <div key={dish.id} className=\"menu-item\">\r\n                    <div className=\"dish-img\">Фотка жоского блюда</div>\r\n                    <div className=\"dish-info\">\r\n                      <p className=\"dish-price\"><strong>{dish.price} рублей</strong></p>\r\n                      <p className=\"dish-name\">{dish.name}</p>\r\n                      <p className=\"dish-calories\">{dish.calories} грамм</p>\r\n                    </div>\r\n                    <div className=\"quantity-controls\">\r\n                      {cart[dish.id] ? (\r\n                        <>\r\n                          <button onClick={() => updateQuantity(dish.id, -1)}>-</button>\r\n                          <span><strong>{cart[dish.id]}</strong></span>\r\n                          <button onClick={() => updateQuantity(dish.id, 1)}>+</button>\r\n                        </>\r\n                      ) : (\r\n                        <button className=\"add-button\" onClick={() => updateQuantity(dish.id, 1)}>+</button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"total-price\">\r\n        <p>Итого: <strong>{totalPrice} рублей</strong></p>\r\n        <button className=\"checkout-button\">Далее   </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Catalog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}